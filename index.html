<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>jQuery Google Analytics Plugin</title>
    <meta name="description" content="A jQuery plugin for adding Google Analytics event tracking to your website." />
    <meta name="viewport" content="width=device-width" />
    <link rel="stylesheet" href="assets/css/responsive.min.css" media="all and (min-width: 1em)" />
    <!--[if lt IE 9]>
        <link rel="stylesheet" href="assets/css/responsive-legacy.min.css" />
    <![endif]-->
    <link rel="stylesheet" href="assets/css/style.css" />
</head>
<body>
    <a class="fork" href="https://github.com/JimBobSquarePants/jQuery-Google-Analytics" rel="external">
        <img src="https://s3.amazonaws.com/github/ribbons/forkme_right_gray_6d6d6d.png" alt="Fork me on GitHub">
    </a>
    <header class="header">
        <div class="container">
            <h1>jQuery Google Analytics Plugin</h1>
        </div>
    </header>
    <article class="container">
        <section class="row">
            <section class="column-6">
                <h1>What is it?</h1>
                <p>
                    A jQuery plugin that helps you easily set up <a href="https://developers.google.com/analytics/devguides/collection/gajs/eventTrackerGuide" target="_blank">Event Tracking With Google Analytics</a>.
                    When added to a page it will automagically add event tracking to any item containing the appropriate HTML5 <code>data-attributes</code>.
                </p>
                <h2>Get it here.</h2>
                <a href="http://raw.github.com/JimBobSquarePants/jQuery-Google-Analytics/master/jquery.googleanalytics.js" class="btn btn-prime" target="_blank">jquery.googleanalytics v2.0.6</a>
                <p>IE 8+, Firefox, Safari, Opera, Chrome</p>
            </section>
            <aside class="column-6">
                <h1>Features</h1>
                <ul>
                    <li>Reading event tracking variables from HTML data attributes as default.</li>
                    <li>Reading pageview tracking variables from HTML5 <code>data-attributes</code> as default.</li>
                    <li>Validates values for type before pushing.</li>
                    <li>Support for dynamically created DOM objects and attributes created using <code>$.data()</code>.</li>
                    <li>Support delay for links to ensure that the logging to Google Analytics occurs before redirect.</li>
                    <li>A data api for overriding the default behaviour.</li>
                </ul>
            </aside>
        </section>
        <section>
            <h1>Demo</h1>
            <p>
                The following markup contains an example of all the possible parameters to send to the Analytics 
                <a href="https://developers.google.com/analytics/devguides/collection/gajs/eventTrackerGuide#SettingUpEventTracking" target="_blank"><code>_trackEvent()</code></a>
                and <a href="https://developers.google.com/analytics/devguides/collection/gajs/methods/gaJSApiBasicConfiguration#_gat.GA_Tracker_._trackPageview" target="_blank"><code>_trackPageview()</code></a>
                methods. All parameters are validated against the Google Analytics Api constraints.
            </p>
            <pre><code>&lt;!--_trackEvent markup---&gt;
&lt;a href="#" data-ga-category="test category" data-ga-action="test action" data-ga-label="test label" data-ga-value="0" data-ga-noninteraction="true"&gt;
    Click to test trackEvent
&lt;/a&gt;

&lt;!--trackPageview markup---&gt;
&lt;a href="#" data-ga-event="trackPageview" data-ga-url="/url"&gt;Click to test trackPageview&lt;/a&gt;</code></pre>
            <div class="row">
                <div class="column-6">
                    <div class="row fixed">
                        <div class="column-6"><a href="#" class="btn" data-ga-category="test category" data-ga-action="test action" data-ga-label="test label" data-ga-value="0" data-ga-noninteraction="true">Click to test trackEvent</a></div>

                        <div class="column-6"><a href="#" class="btn" data-ga-event="trackPageview" data-ga-url="/url">Click to test trackPageview</a></div>
                    </div>
                </div>
            </div>
            <div class="result alert alert-info">
                <h3>Analytics Arguments</h3>
                <p>Parameters passed to Google's <code>gaq</code> array are:</p>
                <div></div>
            </div>

        </section>
        <section>
            <h1>Wait there's more...</h1>
            <p>Whilst the default behaviour should cover most scenarios there's always something that comes up which requires custom behaviour. To cater for this the plugin provides a data api and a <code>tracked.ga</code> event for handling callbacks</p>
            <p>Here's an example of how to override the default behaviour as used on this page.</p>

            <pre><code>(function ($) {
    // Unbind the default behaviour.
    $(document).off("ready.ga").on("ready", function () {

        // Set some options. The ones below are the defaults.
        var $result = $(".result"),
            options = {
                event: "trackEvent", // The event name unprefixed. 
                handler: "click", // The eventhandler to trigger the tracking. 
                                  // Using 'load' will track immediately.
                debug: true // Whether to run in debug mode.
            };

        // Bind using the custom selector.        
        $(":ga").googleAnalytics(options).on("tracked.ga", function (event) {
            
            // Display the data.
            var args = $(event.target).data("ga").args;

            $result.children("div")
                   .empty()
                   .html("&lt;p&gt;" + args.toString().replace(/,/g, ", ") + "&lt;/p&gt;")
                   .end()
                   .show();

        });

    });
}(jQuery));</code></pre>
        </section>
        <section>
            <h1>And More...</h1>
            <p>
                It's possible to add further methods to the plugin by extending the <code>$.googleAnalyticsApi</code> object. 
                In the example below we are adding support for the <a href="https://developers.google.com/analytics/devguides/collection/gajs/methods/gaJSApiEcommerce#_gat.GA_Tracker_._addTrans" target="_blank"><code>addTrans()</code></a>
                method used in ecommerce tracking.
            </p>
            <div class="row">
                <div class="column-6">
                    <pre><code>// Create our method rules.
var addTrans = {
        event: {
            value: "_addTrans",
            validation: "isString",
            type: "string"
        },
        orderId: {
            value: null,
            validation: "isString",
            type: "string"
        },
        affiliation: {
            value: null,
            validation: "optString",
            type: "string"
        },
        total: {
            value: null,
            validation: "isString",
            type: "string"
        },
        tax: {
            value: null,
            validation: "optString",
            type: "string"
        },
        shipping: {
            value: null,
            validation: "optString",
            type: "string"
        },
        city: {
            value: null,
            validation: "optString",
            type: "string"
        },
        state: {
            value: null,
            validation: "optString",
            type: "string"
        },
        country: {
            value: null,
            validation: "optString",
            type: "string"
        }
};

// Extend the $.googleAnalyticsApi object. 
$.extend($.googleAnalyticsApi, addTrans);</code></pre>
                </div>
                <div class="column-6">
                    <h3>Return Types</h3>
                    <ul>
                        <li>string</li>
                        <li>integer</li>
                        <li>float</li>
                        <li>boolean</li>
                    </ul>
                    <h3>Validation Types</h3>
                    <ul>
                        <li>isString</li>
                        <li>isInteger</li>
                        <li>isFloat</li>
                        <li>isBoolean</li>
                        <li>optString</li>
                        <li>optInteger</li>
                        <li>optFloat</li>
                        <li>optBoolean</li>
                    </ul>
                    <p>
                        Data attibutes would then be added to the markup prefixed with <code>data-ga-</code> as with the built in methods.
                    </p>
                </div>
            </div>
        </section>
    </article>
    <footer class="footer">
        <div class="container">
            <p>
                jQuery GoogleAnalytics was built for your benefit by <a href="https://github.com/JimBobSquarePants" rel="author" target="_blank">JimBobSquarePants</a>.
                <br>
                You can find him on twitter <a href="https://twitter.com/James_M_South" rel="author" target="_blank">@James_M_South</a>
            </p>
            <p>Code licensed under <a href="http://www.apache.org/licenses/LICENSE-2.0" rel="license" target="_blank">Apache License v2.0</a></p>
        </div>
    </footer>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.10.1/jquery.min.js"></script>
    <script src="assets/js/jquery.googleanalytics.js" type="text/javascript"></script>
    <script type="text/javascript">
        (function ($) {
            // Unbind the default behaviour
            $(document).off("ready.ga").on("ready", function () {

                // Set some options. The ones below are the defaults.
                var $result = $(".result"),
                    options = {
                        event: "trackEvent", // The event name unprefixed. 
                        handler: "click", // The eventhandler to trigger the tracking. 
                        // Using 'load' will track immediately.
                        debug: true // Whether to run in debug mode.
                    };

                // Bind using the custom selector.        
                $(":ga").googleAnalytics(options).on("tracked.ga", function (event) {

                    var args = $(event.target).data("ga").args;

                    $result.children("div")
                            .empty()
                            .html("<p>" + args.toString().replace(/,/g, ", ") + "</p>")
                            .end()
                            .show();

                });

            });
        }(jQuery));
    </script>
</body>
</html>
